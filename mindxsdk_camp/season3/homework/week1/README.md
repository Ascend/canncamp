## week1作业（50分）

**题目1：动手执行一遍`deeplabv3`应用案例（10分）**

把执行命令界面+可视化结果+时间的截图提交

**题目2：基于`deeplabv3`实现人像分割以及背景替换应用（15分）**

`deeplabv3`能分割出人像，可以将原图的人像像素区域粘贴到特定的目标背景图片中，生成比较炫的效果

**题目3：优化`deeplabv3`处理流程（25分）**

**目前问题**

从`deeplabv3`应用案例pipeline我们可以知道预处理比较繁琐。

- 比例缩放，长边到513
- 归一化
- 图片填充到513*513

**优化点**

- 修改om模型输入改成为512*512 `yuv`格式输入（这样可以图像解码插件、图像缩放插件可以使用`dvpp`硬件加速处理，比`opencv`快多了）
- 将归一化处理集成到om模型

**要求**

下载的MindSpore `deeplabv3`包含`deeplab_v3_s8_NHWC.air`原模型，通过atc转换工具，转换一个yuv图像格式输入，输入大小为512*512的`deeplabv3`模型推理。

交付内容：

- `atc`转换命令（5分）
- `aipp`配置文件内容（10分）
- 色域转换代码（因为采用了硬件图像解码，所以解码出来的图像是`yuv`的，所以存在`yuv`转成`bgr`格式过程）（5分）
-  补充分割结果映射到原图部分代码（5分）

**提示**

- 输入节点名称为`input_data`
- 不能简单地将输入节点shape设置为512*512，亲测转模型会报错哈
- 需要对aipp有深入的了解

**备注**

如果转换模型有难度的，可以使用转好的模型

链接：https://pan.baidu.com/s/1MnIh-Knaf8Xfd6e9rqsWaQ 
提取码：beod

